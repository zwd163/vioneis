# GreaterWMS 登录问题修复记录

## 问题概述

**日期:** 2025-04-04
**类型:** 需求改变

**问题描述:** 
目前情况：
1. 用户管理(staff), 每个用户都有一个 check_code, 登录时除了输入staff_name和check_code，还需要OpenID，和常见的应用很不相同，影响程序的推广。

**受影响用户:** 所有用户账号，

**需求:**
1. 用户管理功能，添加密码设置功能，添加邮件和电话号码，和用户真实姓名，邮件是必填字段，用户注册和新增用户时，需要填写用户名、密码、邮箱. done
2. 新用户添加后或者密码重置后，如果有管理员邮箱，则通过管理员邮箱发送邮件到用户邮箱，邮件内容包含用户名，和密码重置链接。如果没有管理员邮箱，则密码自动设置为员工的电话号码后4位，例如：员工的电话号码是13800138000，则密码为0000. 
3. 登录时，只需要输入用户名，和密码，不需要输入OpenID和check_code. done
4. 用默认密码初次登录后，自动跳转到修改密码界面，需要填写新的密码
5. 密码可以由 admin 重置，在staff管理界面，每个用户的记录后面都有一个"重置密码"的按钮，admin点击重置密码按钮，立即发送邮件到用户邮箱，邮件内容包含用户名，和密码重置链接。如果没有管理员邮箱，则密码自动设置为员工的电话号码后4位。
6. 登录界面添加'忘记密码'和'注册'按钮
7. 点击忘记密码按钮，跳转到找回密码界面，输入用户名和邮箱，如果用户名和邮箱匹配，则发送重置密码邮件到用户邮箱，邮件内容包含用户名，和密码重置链接

